<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
<%# This needs to be put somewhere else %>
<div class="bg-white position-relative">
  <div class="d-flex justify-content-center text-align-center my-2">
    <h2><strong>SET UP</strong></h5>
  </div>

  <%# product cards %>
  <div class="cards">
    <% @products.each do |product| %>
      <div class="row">
        <div class="col-12">
          <div class="card-trip position-relative">
            <% if product.photo.attached? %>
              <%= cl_image_tag product.photo.key, class:"" %>
            <% else %>
              <%= image_tag "https://cdn.vectorstock.com/i/preview-1x/65/30/default-image-icon-missing-picture-page-vector-40546530.jpg"%>
            <% end %>
            <div class="card-trip-infos">
              <h2><%= product.name %></h2>
              <p class="card-trip-pricing"><strong><%= number_to_currency(product.price, { unit: 'Â¥', precision: 0 })%></strong></p>
            </div>

            <%# edit button %>
            <div class="card-edit">
              <%= link_to products_path, class:"btn-edit text-decoration-none" do %>
                <i class="fa-solid fa-pencil" style="color: #ffffff;"></i>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>

  <%# product button %>
  <div class="card-create">
    <button type="button" class="fa-solid fa-circle-plus btn-create bg-transparent" style="color: #E2AB2D" data-bs-toggle="modal" data-bs-target="#CreateProductModal">
    </button>
    <!-- Modal -->
    <div class="modal fade slide-up-modal" id="CreateProductModal" tabindex="-1" aria-labelledby="CreateProductModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-slide-up">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="CreateProductModalLabel">Create Product</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <%= render 'new_form' %>
          </div>
          <div class="modal-footer">
            <%# <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button> %>
          </div>
        </div>
      </div>
    </div>
    <%# Model End %>
  </div>
</div>
